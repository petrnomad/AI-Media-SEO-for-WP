/*! For license information please see dashboard.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,r,n)=>{var t=n(609),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,n){var t,l={},c=null,d=null;for(t in void 0!==n&&(c=""+n),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)o.call(r,t)&&!s.hasOwnProperty(t)&&(l[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===l[t]&&(l[t]=r[t]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:i.current}}r.jsx=l,r.jsxs=l},609:e=>{e.exports=window.React},848:(e,r,n)=>{e.exports=n(20)}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);const t=window.wp.element,a=window.wp.apiFetch;var o=n.n(a);const i=window.wp.components;var s=n(848);function l(){var e,r,n="function"==typeof Symbol?Symbol:{},t=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,t,a,o){var l=t&&t.prototype instanceof s?t:s,d=Object.create(l.prototype);return c(d,"_invoke",function(n,t,a){var o,s,l,c=0,d=a||[],u=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(r,n){return o=r,s=0,l=e,f.n=n,i}};function v(n,t){for(s=n,l=t,r=0;!u&&c&&!a&&r<d.length;r++){var a,o=d[r],v=f.p,p=o[2];n>3?(a=p===t)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=v&&((a=n<2&&v<o[1])?(s=0,f.v=t,f.n=o[1]):v<p&&(a=n<3||o[0]>t||t>p)&&(o[4]=n,o[5]=t,f.n=p,s=0))}if(a||n>1)return i;throw u=!0,t}return function(a,d,p){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&v(d,p),s=d,l=p;(r=s<2?e:l)||!u;){o||(s?s<3?(s>1&&(f.n=-1),v(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(a="next"),r=o[a]){if(!(r=r.call(o,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,s<2&&(s=0)}else 1===s&&(r=o.return)&&r.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((r=(u=f.n<0)?l:n.call(t,f))!==i)break}catch(r){o=e,s=1,l=r}finally{c=1}}return{value:r,done:u}}}(n,a,o),!0),d}var i={};function s(){}function d(){}function u(){}r=Object.getPrototypeOf;var f=[][t]?r(r([][t]())):(c(r={},t,function(){return this}),r),v=u.prototype=s.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,c(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e}return d.prototype=u,c(v,"constructor",u),c(u,"constructor",d),d.displayName="GeneratorFunction",c(u,a,"GeneratorFunction"),c(v),c(v,a,"Generator"),c(v,t,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function c(e,r,n,t){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}c=function(e,r,n,t){function o(r,n){c(e,r,function(e){return this._invoke(r,n,e)})}r?a?a(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},c(e,r,n,t)}function d(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?r(l):Promise.resolve(l).then(t,a)}function u(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;l=!1}else for(;!(l=(t=o.call(n)).done)&&(s.push(t.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var v=function(){var e=u((0,t.useState)(null),2),r=e[0],n=e[1],a=u((0,t.useState)(!0),2),c=a[0],f=a[1],v=u((0,t.useState)(null),2),p=v[0],h=v[1];(0,t.useEffect)(function(){m()},[]);var m=function(){var e,r=(e=l().m(function e(){var r,t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,f(!0),e.n=1,o()({path:"/ai-media/v1/stats",method:"GET"});case 1:r=e.v,n(r),h(null),e.n=3;break;case 2:e.p=2,t=e.v,h(t.message);case 3:return e.p=3,f(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var r=this,n=arguments;return new Promise(function(t,a){var o=e.apply(r,n);function i(e){d(o,t,a,i,s,"next",e)}function s(e){d(o,t,a,i,s,"throw",e)}i(void 0)})});return function(){return r.apply(this,arguments)}}();if(c)return(0,s.jsxs)("div",{className:"ai-media-dashboard-loading",children:[(0,s.jsx)(i.Spinner,{}),(0,s.jsx)("p",{children:"Loading dashboard..."})]});if(p)return(0,s.jsxs)("div",{className:"ai-media-dashboard-error",children:[(0,s.jsxs)("p",{children:["Error loading dashboard: ",p]}),(0,s.jsx)("button",{onClick:m,className:"button",children:"Retry"})]});var y=[{label:"Total Images",value:(null==r?void 0:r.total)||0,icon:"images-alt2"},{label:"Pending",value:(null==r?void 0:r.pending)||0,icon:"clock"},{label:"Processing",value:(null==r?void 0:r.processing)||0,icon:"update"},{label:"Needs Review",value:(null==r?void 0:r.needs_review)||0,icon:"visibility"},{label:"Approved",value:(null==r?void 0:r.approved)||0,icon:"yes-alt"},{label:"Failed",value:(null==r?void 0:r.failed)||0,icon:"warning"}];return(0,s.jsxs)("div",{className:"ai-media-dashboard",children:[(0,s.jsxs)("div",{className:"ai-media-dashboard-header",children:[(0,s.jsx)("h2",{children:"Dashboard Overview"}),(0,s.jsxs)("button",{onClick:m,className:"button",children:[(0,s.jsx)("span",{className:"dashicons dashicons-update"})," Refresh"]})]}),(0,s.jsx)("div",{className:"ai-media-stats-grid",children:y.map(function(e,r){return(0,s.jsx)(i.Card,{className:"ai-media-stat-card",children:(0,s.jsxs)(i.CardBody,{children:[(0,s.jsx)("div",{className:"ai-media-stat-icon",children:(0,s.jsx)("span",{className:"dashicons dashicons-".concat(e.icon)})}),(0,s.jsxs)("div",{className:"ai-media-stat-content",children:[(0,s.jsx)("div",{className:"ai-media-stat-value",children:e.value}),(0,s.jsx)("div",{className:"ai-media-stat-label",children:e.label})]})]})},r)})}),(0,s.jsx)("div",{className:"ai-media-dashboard-details",children:(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)("h3",{children:"Performance Metrics"})}),(0,s.jsx)(i.CardBody,{children:(0,s.jsxs)("div",{className:"ai-media-metrics",children:[(0,s.jsxs)("div",{className:"ai-media-metric",children:[(0,s.jsx)("span",{className:"label",children:"Processed Today:"}),(0,s.jsx)("span",{className:"value",children:(null==r?void 0:r.processed_today)||0})]}),(0,s.jsxs)("div",{className:"ai-media-metric",children:[(0,s.jsx)("span",{className:"label",children:"Average Score:"}),(0,s.jsx)("span",{className:"value",children:null!=r&&r.avg_score?(100*r.avg_score).toFixed(0)+"%":"N/A"})]}),(0,s.jsxs)("div",{className:"ai-media-metric",children:[(0,s.jsx)("span",{className:"label",children:"Total Cost:"}),(0,s.jsxs)("span",{className:"value",children:["$",null!=r&&r.total_cost?(r.total_cost/100).toFixed(2):"0.00"]})]})]})})]})})]})};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("ai-media-dashboard-root");e&&(0,t.render)((0,s.jsx)(v,{}),e)})})();
//# sourceMappingURL=dashboard.js.map
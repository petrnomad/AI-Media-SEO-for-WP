/*! For license information please see settings.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,r)=>{var n=r(609),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},609:e=>{e.exports=window.React},848:(e,t,r)=>{e.exports=r(20)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=window.wp.element,o=window.wp.apiFetch;var i=r.n(o);const a=window.wp.components;var l=r(848);const s=function(e){var t=e.notice,r=e.onDismiss;return t?(0,l.jsxs)("div",{className:"notice notice-".concat(t.type," is-dismissible"),style:{margin:"0 0 20px 0"},children:[(0,l.jsx)("p",{children:t.message}),(0,l.jsx)("button",{type:"button",className:"notice-dismiss",onClick:r,children:(0,l.jsx)("span",{className:"screen-reader-text",children:"Dismiss this notice."})})]}):null};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d=function(e){var t,r,n=e.provider,o=e.isPrimary,i=e.hasApiKey,s=e.providers,d=e.onUpdateProvider,u=e.onSetPrimary;return(0,l.jsxs)(a.Card,{style:{flex:"0 0 calc(50% - 8px)",maxWidth:"calc(50% - 8px)",marginBottom:"0",border:o?"2px solid #2271b1":"1px solid #dcdcde",position:"relative",boxSizing:"border-box"},children:[(0,l.jsx)(a.CardHeader,{style:{background:o?"#f0f6fc":"transparent",borderBottom:o?"1px solid #2271b1":"1px solid #dcdcde"},children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,l.jsx)("style",{children:"\n\t\t\t\t\t\t\t\t.provider-radio-button:checked::before {\n\t\t\t\t\t\t\t\t\tmargin: 0.31rem !important;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"}),(0,l.jsx)("input",{type:"radio",name:"primary_provider",value:n.id,checked:o,onChange:function(){return u(n.id)},className:"provider-radio-button",style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[n.name,o&&(0,l.jsx)("span",{style:{background:"#2271b1",color:"#fff",padding:"2px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase"},children:"Active"})]}),(0,l.jsx)("p",{style:{margin:"4px 0 0 0",color:"#757575",fontSize:"13px"},children:n.description})]})]}),i&&(0,l.jsx)("span",{className:"dashicons dashicons-yes-alt",style:{color:"#00a32a",fontSize:"24px"},title:"API Key configured"})]})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)(a.TextControl,{label:"API Key",type:"password",value:(null===(t=s[n.id])||void 0===t?void 0:t.api_key)||"",onChange:function(e){return d(n.id,"api_key",e)},help:"Get your API key from ".concat(n.helpUrl||("OpenAI (ChatGPT)"===n.name?"platform.openai.com":"Anthropic (Claude)"===n.name?"console.anthropic.com":"console.cloud.google.com")),placeholder:"sk-..."}),Object.keys(n.models).length>1&&(0,l.jsx)(a.SelectControl,{label:"Model",value:(null===(r=s[n.id])||void 0===r?void 0:r.model)||Object.keys(n.models)[0],options:Object.entries(n.models).map(function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0];return{label:n[1],value:o}}),onChange:function(e){return d(n.id,"model",e)},help:"Select which AI model to use for image analysis",style:{minHeight:"38px"}})]})]})};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=function(e){var t,r,n,o=e.providers,i=e.setProviders,s=e.setShowModal,c=e.setModalMessage,u=function(e,t,r){var n;if("api_key"===t&&""===r.trim()&&null!==(n=o[e])&&void 0!==n&&n.primary)return c("Cannot remove API key from the active provider. Please select a different provider first."),void s(!0);i(f(f({},o),{},y({},e,f(f({},o[e]),{},y({},t,r)))))},p=function(e){var t;if(null===(t=o[e])||void 0===t||!t.api_key||""===o[e].api_key.trim())return c("Please add an API key for this provider before selecting it as primary."),void s(!0);var r={};Object.keys(o).forEach(function(t){r[t]=f(f({},o[t]),{},{primary:t===e})}),i(r)},m=Object.keys(o).find(function(e){var t;return null===(t=o[e])||void 0===t?void 0:t.primary})||"openai",x=[{id:"openai",name:"OpenAI (ChatGPT)",description:"GPT-4o Vision - Best for general image analysis",models:(null===(t=window.aiMediaSEO)||void 0===t||null===(t=t.provider_models)||void 0===t?void 0:t.openai)||{},helpUrl:"platform.openai.com"},{id:"google",name:"Google (Gemini)",description:"Gemini Pro Vision - Fast and accurate",models:(null===(r=window.aiMediaSEO)||void 0===r||null===(r=r.provider_models)||void 0===r?void 0:r.google)||{},helpUrl:"console.cloud.google.com"},{id:"anthropic",name:"Anthropic (Claude)",description:"Claude 3.5 Sonnet - Advanced contextual understanding",models:(null===(n=window.aiMediaSEO)||void 0===n||null===(n=n.provider_models)||void 0===n?void 0:n.anthropic)||{},helpUrl:"console.anthropic.com"}];return(0,l.jsxs)("div",{className:"ai-media-providers-tab",children:[(0,l.jsx)(a.Card,{style:{marginBottom:"20px",background:"#f0f6fc",borderLeft:"4px solid #2271b1"},children:(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("h3",{style:{marginTop:0,marginBottom:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-info",style:{fontSize:"20px",marginRight:"8px"}}),"Select Your AI Provider"]}),(0,l.jsx)("p",{style:{margin:0,color:"#1d2327"},children:"Choose which AI service will analyze your images and generate metadata."})]})}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:x.map(function(e){var t,r=m===e.id,n=(null===(t=o[e.id])||void 0===t||null===(t=t.api_key)||void 0===t?void 0:t.length)>0;return(0,l.jsx)(d,{provider:e,isPrimary:r,hasApiKey:n,providers:o,onUpdateProvider:u,onSetPrimary:p},e.id)})})]})},x=function(e){var t=e.variant,r=e.onShowPreview;return(0,l.jsxs)(a.Card,{style:{background:"#f0f6fc",borderLeft:"4px solid ".concat(t.color)},children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-admin-generic",style:{fontSize:"20px",color:t.color}}),t.name," Variant"]})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)("div",{style:{background:t.color,color:"#fff",padding:"8px 12px",borderRadius:"4px",marginBottom:"16px",fontSize:"13px",fontWeight:"600",textAlign:"center"},children:t.description}),(0,l.jsxs)("div",{style:{background:"#fff",border:"1px solid #dcdcde",borderRadius:"4px",padding:"12px",marginBottom:"16px"},children:[(0,l.jsxs)("h4",{style:{fontSize:"12px",fontWeight:"600",marginTop:0,marginBottom:"10px",display:"flex",alignItems:"center",gap:"6px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-chart-bar",style:{fontSize:"16px",color:t.color}}),"Estimated Token Usage per Image:"]}),(0,l.jsxs)("div",{style:{fontSize:"12px",lineHeight:"1.8"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0"},children:[(0,l.jsx)("span",{style:{color:"#646970"},children:"Text prompt:"}),(0,l.jsxs)("strong",{children:[t.promptTokens," tokens"]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #dcdcde"},children:[(0,l.jsx)("span",{style:{color:"#646970"},children:"Image file:"}),(0,l.jsxs)("strong",{children:[t.imageTokens," tokens"]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0 4px 0",fontSize:"13px",fontWeight:"600",color:t.color},children:[(0,l.jsx)("span",{children:"Total:"}),(0,l.jsxs)("span",{children:[t.totalTokens," tokens"]})]})]}),(0,l.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"11px",color:"#646970",fontStyle:"italic"},children:"Image token count varies by file size, resolution, and format. Higher resolution images consume more tokens."})]}),(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("h4",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"12px",color:t.color},children:"What AI Receives:"}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:"11px",fontWeight:"600",marginBottom:"6px",color:"#00a32a",display:"flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{children:"‚úì"})," Included"]}),(0,l.jsx)("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"11px",lineHeight:"1.7"},children:t.included.map(function(e,t){return(0,l.jsx)("li",{style:{marginBottom:"2px"},children:e},t)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:"11px",fontWeight:"600",marginBottom:"6px",color:"#d63638",display:"flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{children:"‚úó"})," Not Included"]}),(0,l.jsx)("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"11px",lineHeight:"1.7",color:"#646970"},children:t.notIncluded.map(function(e,t){return(0,l.jsx)("li",{style:{marginBottom:"2px"},children:e},t)})})]})]})]}),(0,l.jsxs)("div",{style:{background:"#fff",border:"1px solid ".concat(t.color,"33"),borderRadius:"4px",padding:"12px",marginBottom:"12px"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-thumbs-up",style:{color:t.color,fontSize:"16px"}}),(0,l.jsx)("strong",{style:{fontSize:"12px"},children:"Best For:"})]}),(0,l.jsx)("p",{style:{margin:0,fontSize:"12px",lineHeight:"1.6",color:"#3c434a"},children:t.bestFor})]}),(0,l.jsxs)(a.Button,{variant:"secondary",onClick:r,style:{width:"100%"},children:["üìã Preview ",t.name," Prompt"]})]})]})};function h(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return g(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(g(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,g(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,g(u,"constructor",c),g(c,"constructor",s),s.displayName="GeneratorFunction",g(c,o,"GeneratorFunction"),g(u),g(u,o,"Generator"),g(u,n,function(){return this}),g(u,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:p}})()}function g(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}g=function(e,t,r,n){function i(t,r){g(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},g(e,t,r,n)}function b(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const S=function(e){var t,r=e.isOpen,o=e.onClose,s=e.variant,c=e.settings,d=e.selectedVariant,u=v((0,n.useState)(""),2),p=u[0],f=u[1],y=v((0,n.useState)(!1),2),m=y[0],x=y[1],g=v((0,n.useState)(null),2),j=g[0],S=g[1];return(0,n.useEffect)(function(){if(r){var e=function(){var e,t=(e=h().m(function e(){var t,r;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:return x(!0),S(null),e.p=1,e.n=2,i()({path:"/ai-media/v1/settings/prompt-preview",method:"POST",data:{variant:d,language:c.primary_language||"en"}});case 2:t=e.v,f(t.prompt),e.n=4;break;case 3:e.p=3,r=e.v,S(r.message||"Failed to load prompt preview");case 4:return e.p=4,x(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){b(i,n,o,a,l,"next",e)}function l(e){b(i,n,o,a,l,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();e()}},[r,d,c.primary_language,c.ai_role,c.site_context,c.alt_max_length]),r?(0,l.jsxs)(a.Modal,{title:"".concat(s.name," Prompt Structure Preview"),onRequestClose:o,style:{maxWidth:"800px",width:"90vw"},shouldCloseOnClickOutside:!1,isDismissible:!0,children:[(0,l.jsxs)("div",{style:{fontFamily:"monospace",fontSize:"12px",lineHeight:"1.6"},children:[(0,l.jsxs)("div",{style:{background:s.color,color:"#fff",padding:"8px 16px",borderRadius:"4px",marginBottom:"16px",fontSize:"13px",fontWeight:"600",textAlign:"center"},children:[s.name," Variant ‚Ä¢ ",s.totalTokens]}),(0,l.jsxs)("div",{style:{background:"#f0f0f0",padding:"16px",borderRadius:"4px",marginBottom:"16px",overflowX:"auto",minHeight:"200px"},children:[m&&(0,l.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,l.jsx)(a.Spinner,{}),(0,l.jsx)("p",{style:{marginTop:"12px",color:"#646970"},children:"Loading actual prompt from PromptBuilder..."})]}),j&&(0,l.jsxs)("div",{style:{color:"#dc3232",padding:"12px"},children:[(0,l.jsx)("strong",{children:"Error:"})," ",j]}),!m&&!j&&(0,l.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:p})]}),(0,l.jsxs)("div",{style:{background:"#f0f6fc",padding:"12px",borderRadius:"4px",borderLeft:"4px solid ".concat(s.color)},children:[(0,l.jsxs)("strong",{style:{display:"block",marginBottom:"8px",fontSize:"13px"},children:["‚úì Included in ",s.name,":"]}),(0,l.jsx)("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"12px",lineHeight:"1.8"},children:null===(t=s.included)||void 0===t?void 0:t.map(function(e,t){return(0,l.jsx)("li",{children:e},t)})})]})]}),(0,l.jsxs)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[(0,l.jsx)("div",{style:{fontSize:"12px",color:"#646970"},children:"Switch variants in settings to compare"}),(0,l.jsx)(a.Button,{variant:"primary",onClick:o,children:"Close"})]})]}):null};var w={minimal:{name:"Minimal",description:"Fast & Cost-Effective",promptTokens:"~100-150",imageTokens:"~1,500-2,500",totalTokens:"~1,600-2,650",color:"#00a32a",included:["Site context","Page title","Categories & tags","Filename hint","Image format/orientation"],notIncluded:["Page description","Post type","Image dimensions","Current ALT text","Author metadata","EXIF data","Analysis strategy"],bestFor:"High-volume processing, tight budgets, simple sites"},standard:{name:"Standard",description:"Balanced (Recommended)",promptTokens:"~200-300",imageTokens:"~1,500-2,500",totalTokens:"~1,700-2,800",color:"#2271b1",included:["Site context","Page title & description","Categories & tags","Filename, format & dimensions","Current ALT text","Author metadata (title, caption, description)","EXIF title & caption"],notIncluded:["Post type","Full EXIF (camera, date, location)","Analysis strategy section"],bestFor:"Most websites - optimal balance of quality and cost"},advanced:{name:"Advanced",description:"Maximum Context",promptTokens:"~400-500",imageTokens:"~1,500-2,500",totalTokens:"~1,900-3,000",color:"#d63638",included:["Site context","Page title & description","Categories, tags & post type","Filename, format & dimensions","Current ALT text","Author metadata (full)","Complete EXIF data (camera, date, location, copyright)","Analysis strategy & pattern detection"],notIncluded:["(All available context included)"],bestFor:"Premium sites, landing pages, where quality is paramount"}};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r){return(t=function(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const I=function(e){var t=e.settings,r=e.setSettings,o=T((0,n.useState)(!1),2),i=o[0],s=o[1],c=T((0,n.useState)("standard"),2),d=c[0],u=c[1],p=t.prompt_variant||"standard",f=function(e){u(e),s(!0)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsx)("h3",{children:"Prompt Detail Level"})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("p",{style:{marginBottom:"20px",color:"#646970"},children:["Control how much text context is sent to the AI. More context = better quality but higher cost.",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Note:"})," Image file size adds ~1,500-2,500 tokens regardless of variant selected."]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"30px"},children:[(0,l.jsxs)("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:"minimal"===p?"3px solid #d63638":"2px solid #dcdcde",borderRadius:"8px",cursor:"pointer",backgroundColor:"minimal"===p?"#fff5f5":"white",transition:"all 0.2s"},children:[(0,l.jsx)("input",{type:"radio",value:"minimal",checked:"minimal"===p,onChange:function(e){return r(C(C({},t),{},{prompt_variant:e.target.value}))},style:{marginBottom:"12px"}}),(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:"12px"},children:(0,l.jsx)("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:700,backgroundColor:"#d63638",color:"white",textTransform:"uppercase",display:"inline-block"},children:"‚ö° Minimal"})}),(0,l.jsxs)("div",{style:{textAlign:"center",marginBottom:"8px"},children:[(0,l.jsx)("div",{style:{fontSize:"13px",fontWeight:600,marginBottom:"4px"},children:w.minimal.description}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#646970"},children:[w.minimal.promptTokens," text tokens"]})]})]}),(0,l.jsxs)("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:"standard"===p?"3px solid #2271b1":"2px solid #dcdcde",borderRadius:"8px",cursor:"pointer",backgroundColor:"standard"===p?"#f0f6fc":"white",transition:"all 0.2s"},children:[(0,l.jsx)("input",{type:"radio",value:"standard",checked:"standard"===p,onChange:function(e){return r(C(C({},t),{},{prompt_variant:e.target.value}))},style:{marginBottom:"12px"}}),(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:"12px"},children:(0,l.jsx)("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:700,backgroundColor:"#2271b1",color:"white",textTransform:"uppercase",display:"inline-block"},children:"‚≠ê Standard"})}),(0,l.jsxs)("div",{style:{textAlign:"center",marginBottom:"8px"},children:[(0,l.jsx)("div",{style:{fontSize:"13px",fontWeight:600,marginBottom:"4px"},children:w.standard.description}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#646970"},children:[w.standard.promptTokens," text tokens"]})]})]}),(0,l.jsxs)("label",{style:{display:"flex",flexDirection:"column",padding:"16px",border:"advanced"===p?"3px solid #00a32a":"2px solid #dcdcde",borderRadius:"8px",cursor:"pointer",backgroundColor:"advanced"===p?"#f0f9f4":"white",transition:"all 0.2s"},children:[(0,l.jsx)("input",{type:"radio",value:"advanced",checked:"advanced"===p,onChange:function(e){return r(C(C({},t),{},{prompt_variant:e.target.value}))},style:{marginBottom:"12px"}}),(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:"12px"},children:(0,l.jsx)("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:700,backgroundColor:"#00a32a",color:"white",textTransform:"uppercase",display:"inline-block"},children:"üöÄ Advanced"})}),(0,l.jsxs)("div",{style:{textAlign:"center",marginBottom:"8px"},children:[(0,l.jsx)("div",{style:{fontSize:"13px",fontWeight:600,marginBottom:"4px"},children:w.advanced.description}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#646970"},children:[w.advanced.promptTokens," text tokens"]})]})]})]})]})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",marginTop:"20px"},children:[(0,l.jsx)(x,{variant:w.minimal,onShowPreview:function(){return f("minimal")}}),(0,l.jsx)(x,{variant:w.standard,onShowPreview:function(){return f("standard")}}),(0,l.jsx)(x,{variant:w.advanced,onShowPreview:function(){return f("advanced")}})]}),(0,l.jsx)(S,{isOpen:i,onClose:function(){return s(!1)},variant:w[d],settings:t,selectedVariant:d})]})};function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const M=function(e){var t,r,n=e.settings,o=e.setSettings,i=((null===(t=window.aiMediaSEO)||void 0===t?void 0:t.image_sizes)||[]).map(function(e){return{label:e.label,value:e.value}});return(0,l.jsx)("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:(0,l.jsx)("div",{style:{flex:"1 1 calc(50% - 10px)",minWidth:"400px"},children:(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-admin-settings",style:{fontSize:"20px"}}),"Processing Settings"]})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)(a.SelectControl,{label:"Image Size for AI Analysis",value:n.image_size_for_ai||"large",options:i,onChange:function(e){return o(B(B({},n),{},{image_size_for_ai:e}))},help:""}),(0,l.jsxs)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#646970",fontStyle:"italic",lineHeight:"1.5"},children:["Choose which WordPress image size to send to AI providers for analysis. Smaller sizes reduce API costs and processing time, while larger sizes may provide more detailed analysis. Recommended: ",(0,l.jsx)("strong",{children:"Large"})," (typically 1024px) for best balance between quality and cost."]})]}),(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)(a.ToggleControl,{label:"Enable Image Size Fallback",checked:null===(r=n.enable_image_size_fallback)||void 0===r||r,onChange:function(e){return o(B(B({},n),{},{enable_image_size_fallback:e}))},help:""}),(0,l.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#646970",fontStyle:"italic",lineHeight:"1.5"},children:"If enabled and your selected image size doesn't exist for a particular image, the plugin will automatically try to find another available size. If disabled, the original full-size image will be used instead, which may increase API costs."})]}),(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)(a.ToggleControl,{label:"Enable Auto-processing",checked:n.enable_auto_process||!1,onChange:function(e){return o(B(B({},n),{},{enable_auto_process:e}))},help:""}),(0,l.jsxs)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#646970",fontStyle:"italic",lineHeight:"1.5"},children:["When enabled, newly uploaded images will be automatically processed by AI to generate SEO metadata (ALT text, caption, title). This is convenient but will consume your API credits automatically. ",(0,l.jsx)("strong",{children:"Recommended:"})," Leave disabled and process images manually or in batches to maintain better control over API costs."]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(a.TextControl,{label:"ALT Text Maximum Length",type:"number",value:n.alt_max_length||125,onChange:function(e){return o(B(B({},n),{},{alt_max_length:parseInt(e)}))},help:""}),(0,l.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#646970",fontStyle:"italic",lineHeight:"1.5"},children:"Maximum number of characters allowed in ALT text. Google recommends keeping ALT text concise (typically under 125 characters) for optimal accessibility and SEO. The AI will generate ALT text that respects this limit while remaining descriptive and keyword-rich."})]})]})]})})})};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G=function(e){var t=e.settings,r=e.setSettings,n=t.site_context||"",o=n.length,i=1500,s=i-o,c=o>i;return(0,l.jsx)("div",{children:(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsx)("h3",{children:"AI Context & Role"})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)(a.TextControl,{label:"AI Role",value:t.ai_role||"SEO expert",onChange:function(e){return r(W(W({},t),{},{ai_role:e}))},help:"Define the role of the AI (e.g., 'SEO expert', 'Marketing specialist', 'Content writer')",placeholder:"SEO expert"}),(0,l.jsxs)("div",{style:{marginTop:"20px"},children:[(0,l.jsx)("label",{htmlFor:"site-context",style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:"500"},children:"Site Context & Information"}),(0,l.jsx)("textarea",{id:"site-context",value:n,onChange:function(e){return r(W(W({},t),{},{site_context:e.target.value}))},maxLength:i,rows:"6",style:{width:"100%",padding:"8px",fontSize:"13px",lineHeight:"1.5",border:c?"1px solid #d63638":"1px solid #dcdcde",borderRadius:"4px",fontFamily:"inherit",boxShadow:c?"0 0 0 1px #d63638":"none"},placeholder:"Provide general context about your website, target audience, brand voice, and any specific requirements for image metadata..."}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[(0,l.jsx)("p",{style:{margin:0,fontSize:"12px",fontStyle:"italic",color:"#646970"},children:"This context will be included in all AI prompts to ensure metadata aligns with your site's purpose and audience."}),(0,l.jsxs)("div",{style:{fontSize:"12px",fontWeight:"500",color:c?"#d63638":s<100?"#dba617":"#646970",whiteSpace:"nowrap",marginLeft:"16px"},children:[o," / ",i,!c&&(0,l.jsxs)("span",{style:{fontWeight:"normal",marginLeft:"8px"},children:["(",s," remaining)"]}),c&&(0,l.jsx)("span",{style:{fontWeight:"normal",marginLeft:"8px"},children:"(over limit!)"})]})]})]})]})]})})},D=function(e){var t=e.preset,r=e.presetId,n=e.isActive,o=e.onApply;return(0,l.jsxs)("button",{onClick:function(){return o(r)},style:{padding:"16px 12px",border:n?"2px solid ".concat(t.color):"1px solid #dcdcde",borderRadius:"6px",background:n?"".concat(t.color,"10"):"#fff",cursor:"pointer",textAlign:"center",transition:"all 0.2s"},children:[(0,l.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:t.icon}),(0,l.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"4px",color:n?t.color:"#1d2327"},children:t.name}),(0,l.jsx)("div",{style:{fontSize:"11px",color:"#646970",lineHeight:"1.4"},children:t.description}),n&&(0,l.jsx)("div",{style:{marginTop:"8px",padding:"4px 8px",background:t.color,color:"#fff",borderRadius:"3px",fontSize:"10px",fontWeight:"bold",textTransform:"uppercase"},children:"Active"})]})},N=function(e){var t=e.field,r=e.value,n=e.onChange,o=e.labels[t],i=Math.round(r);return(0,l.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,l.jsxs)("label",{style:{fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{style:{fontSize:"18px"},children:o.emoji}),o.name," Importance",(0,l.jsx)("span",{style:{fontSize:"10px",padding:"2px 6px",background:"".concat(o.color,"20"),color:o.color,borderRadius:"3px",fontWeight:"bold",textTransform:"uppercase"},children:o.importance})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("input",{type:"number",min:"0",max:"100",step:"1",value:i,onChange:function(e){var t=Math.min(100,Math.max(0,parseInt(e.target.value)||0));n(t)},style:{width:"60px",padding:"4px 8px",border:"1px solid #8c8f94",borderRadius:"2px",fontSize:"13px",textAlign:"right"}}),(0,l.jsx)("span",{style:{fontSize:"11px",fontWeight:"600",color:"#646970",minWidth:"35px"},children:"points"})]})]}),(0,l.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:i,onChange:function(e){var t=parseInt(e.target.value);n(t)},style:{width:"100%",height:"8px",borderRadius:"4px",outline:"none",WebkitAppearance:"none",appearance:"none",background:"linear-gradient(to right, ".concat(o.color," 0%, ").concat(o.color," ").concat(i,"%, #dcdcde ").concat(i,"%, #dcdcde 100%)")}}),(0,l.jsx)("div",{style:{marginTop:"6px",fontSize:"11px",color:"#646970",fontStyle:"italic"},children:"Higher values = more important for overall quality score"})]})};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const U=function(e){var t=e.scenarios,r=e.qualityWeights,n=e.autoApproveThreshold,o=e.calculateScore;return(0,l.jsxs)(a.Card,{style:{marginBottom:"20px",position:"sticky",top:"20px"},children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsxs)("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-visibility",style:{fontSize:"20px"}}),"Quality Score Preview"]})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("div",{style:{marginTop:0,marginBottom:"16px",padding:"12px",background:"#f0f6fc",borderRadius:"4px",border:"1px solid #2271b1",fontSize:"12px",textAlign:"center"},children:[(0,l.jsx)("strong",{children:"Auto-Approve Threshold:"})," ",Math.round(100*n),"%"]}),(0,l.jsx)("p",{style:{marginTop:0,marginBottom:"16px",fontSize:"13px",color:"#646970"},children:"See how quality affects your total score with current importance settings:"}),(0,l.jsxs)("div",{style:{padding:"8px 12px",background:"#f0f6fc",borderRadius:"4px",fontSize:"11px",color:"#646970",marginBottom:"16px",borderLeft:"3px solid #2271b1"},children:[(0,l.jsx)("strong",{children:"üìä How to read:"}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{style:{color:"#1d2327"},children:"If ALT is perfect (100%)"})," ‚Üí adds ",(0,l.jsx)("strong",{children:"45%"})," to total score",(0,l.jsx)("br",{}),(0,l.jsx)("span",{style:{color:"#1d2327"},children:"If ALT is good (75%)"})," ‚Üí adds ",(0,l.jsx)("strong",{children:"34%"})," to total score"]}),Object.entries(t).map(function(e){var t=H(e,2),i=t[0],a=t[1],s=o(a),c=Math.round(100*s),d=c>=100*n,u="#dc3232",p="Draft";return s>=n?(u="#46b450",p="Auto-Approve"):s>=.7&&(u="#ffb900",p="Review"),(0,l.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",background:"#f6f7f7",borderRadius:"4px",border:d?"2px solid ".concat(u):"1px solid #dcdcde"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,l.jsxs)("div",{style:{fontSize:"13px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[(0,l.jsx)("span",{style:{fontSize:"16px"},children:a.emoji}),a.label]}),(0,l.jsxs)("div",{style:{fontSize:"16px",fontWeight:"bold",color:u},children:[c,"%"]})]}),(0,l.jsx)("div",{style:{height:"6px",background:"#dcdcde",borderRadius:"3px",overflow:"hidden",marginBottom:"8px"},children:(0,l.jsx)("div",{style:{height:"100%",width:"".concat(c,"%"),background:u,transition:"width 0.3s"}})}),(0,l.jsx)("div",{style:{fontSize:"11px",color:"#646970",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"},children:Object.entries(a).filter(function(e){var t=H(e,1)[0];return"label"!==t&&"emoji"!==t}).map(function(e){var t=H(e,2),n=t[0],o=t[1];return(0,l.jsxs)("div",{children:[n.toUpperCase(),": ",Math.round(100*o),"% ‚Üí ",(0,l.jsxs)("span",{style:{color:"#2271b1",fontWeight:"600"},children:["+",Math.round(o*r[n]*100),"%"]})]},n)})}),(0,l.jsxs)("div",{style:{marginTop:"8px",padding:"4px 8px",background:u,color:"#fff",borderRadius:"3px",fontSize:"11px",fontWeight:"bold",textAlign:"center",textTransform:"uppercase"},children:["‚Üí ",p]})]},i)})]})]})};var $={beginner:{name:"Beginner Friendly",description:"Balanced settings with lower threshold - good for learning",importance:{alt:40,title:30,caption:20,keywords:10},autoApprove:.75,color:"#00a32a",icon:"üå±"},balanced:{name:"Balanced (Recommended)",description:"SEO-optimized with standard quality requirements",importance:{alt:50,title:30,caption:15,keywords:5},autoApprove:.8,color:"#2271b1",icon:"‚öñÔ∏è"},expert:{name:"Expert / E-commerce",description:"Maximum quality - prioritizes ALT text heavily",importance:{alt:80,title:15,caption:4,keywords:1},autoApprove:.9,color:"#d63638",icon:"üéØ"}},K={excellent:{alt:1,title:1,caption:1,keywords:1,label:"Perfect Metadata",emoji:"‚ú®"},good:{alt:.9,title:.85,caption:.8,keywords:.9,label:"Good Quality",emoji:"üëç"},badAlt:{alt:.3,title:1,caption:1,keywords:1,label:"Poor ALT (Critical)",emoji:"‚ö†Ô∏è"},average:{alt:.7,title:.6,caption:.7,keywords:.5,label:"Average Quality",emoji:"‚ûñ"}},Q={alt:{name:"ALT Text",emoji:"üéØ",color:"#dc3232",importance:"Critical"},title:{name:"Title",emoji:"üìù",color:"#d63638",importance:"High"},caption:{name:"Caption",emoji:"üí¨",color:"#ffb900",importance:"Medium"},keywords:{name:"Keywords",emoji:"üè∑Ô∏è",color:"#46b450",importance:"Low"}};function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){J(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t,r){return(t=function(e){var t=function(e){if("object"!=V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const te=function(e){var t=e.settings,r=e.setSettings,o=e.qualityWeights,i=e.setQualityWeights,s=Z((0,n.useState)(function(){return{alt:Math.round(100*o.alt),title:Math.round(100*o.title),caption:Math.round(100*o.caption),keywords:Math.round(100*o.keywords)}}),2),c=s[0],d=s[1];(0,n.useEffect)(function(){d({alt:Math.round(100*o.alt),title:Math.round(100*o.title),caption:Math.round(100*o.caption),keywords:Math.round(100*o.keywords)})},[o]);var u=function(e){var t=Object.values(e).reduce(function(e,t){return e+t},0);if(0===t)return{alt:.25,title:.25,caption:.25,keywords:.25};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]/t}),r},p=Z((0,n.useState)("custom"),2),f=p[0],y=p[1],m=Z((0,n.useState)(!1),2),x=m[0],h=m[1],g=function(e){if($[e]){var n=$[e];d(n.importance);var o=u(n.importance);i(o),r(Y(Y({},t),{},{auto_approve_threshold:n.autoApprove})),y(e)}},b=function(){for(var e,r=function(){var e=Z(o[n],2),r=e[0],i=e[1],a=Object.keys(i.importance).every(function(e){return Math.abs(c[e]-i.importance[e])<2}),l=Math.abs((t.auto_approve_threshold||.85)-i.autoApprove)<.01;if(a&&l)return{v:r}},n=0,o=Object.entries($);n<o.length;n++)if(e=r())return e.v;return"custom"};return(0,n.useEffect)(function(){var e=b();y(e)},[]),(0,l.jsxs)("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[(0,l.jsxs)("div",{style:{flex:"1 1 calc(60% - 10px)",minWidth:"500px"},children:[(0,l.jsx)(a.Card,{style:{marginBottom:"20px",background:"#f0f6fc",borderLeft:"4px solid #2271b1"},children:(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("h3",{style:{marginTop:0,marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"dashicons dashicons-info",style:{fontSize:"20px"}}),"Quality Scoring System"]}),(0,l.jsxs)("p",{style:{margin:0,color:"#1d2327",lineHeight:"1.6"},children:["The quality score determines whether AI-generated metadata is automatically approved or requires review. Each field (ALT, Title, Caption, Keywords) contributes to the final score based on its ",(0,l.jsx)("strong",{children:"SEO importance weight"}),"."]}),(0,l.jsxs)(a.Button,{variant:"link",onClick:function(){return h(!x)},style:{marginTop:"8px",padding:0},children:[x?"‚ñº Hide":"‚ñ∂ Learn"," why these weights matter for SEO"]}),x&&(0,l.jsxs)("div",{style:{marginTop:"12px",padding:"12px",background:"#fff",borderRadius:"4px",fontSize:"13px",lineHeight:"1.6"},children:[(0,l.jsx)("strong",{children:"üéØ ALT Text (40%):"})," Most critical for Google Image Search and accessibility. Screen readers rely on ALT text.",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"üìù Title (30%):"})," Important for social sharing, file organization, and structured data.",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"üí¨ Caption (20%):"})," Adds context for users, improves engagement and time-on-page.",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"üè∑Ô∏è Keywords (10%):"})," Helps organize media library, minimal direct SEO impact."]})]})}),(0,l.jsxs)(a.Card,{style:{marginBottom:"20px"},children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsx)("h3",{style:{margin:0},children:"Quick Presets"})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)("p",{style:{marginTop:0,marginBottom:"16px",color:"#646970"},children:"Choose a preset configuration or customize your own weights below."}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px",marginBottom:"16px"},children:[Object.entries($).map(function(e){var t=Z(e,2),r=t[0],n=t[1];return(0,l.jsx)(D,{preset:n,presetId:r,isActive:f===r,onApply:g},r)}),(0,l.jsxs)("button",{onClick:function(){return y("custom")},style:{padding:"16px 12px",border:"custom"===f?"2px solid #8c8f94":"1px solid #dcdcde",borderRadius:"6px",background:"custom"===f?"#f6f7f7":"#fff",cursor:"pointer",textAlign:"center"},children:[(0,l.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"‚öôÔ∏è"}),(0,l.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"4px"},children:"Custom"}),(0,l.jsx)("div",{style:{fontSize:"11px",color:"#646970",lineHeight:"1.4"},children:"Configure your own weights"})]})]})]})]}),(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsx)("h3",{style:{margin:0},children:"Field Importance"})}),(0,l.jsx)(a.CardBody,{children:["alt","title","caption","keywords"].map(function(e){return(0,l.jsx)(N,{field:e,value:c[e],onChange:function(t){return function(e,t){var r=Y(Y({},c),{},J({},e,t));d(r);var n=u(r);i(n),y(b())}(e,t)},labels:Q},e)})})]}),(0,l.jsx)(a.Card,{style:{background:"#f0f6fc",borderLeft:"4px solid #2271b1"},children:(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)("h4",{style:{marginTop:0,marginBottom:"12px",fontSize:"14px"},children:"üí° SEO Impact Guide"}),(0,l.jsxs)("div",{style:{fontSize:"12px",lineHeight:"1.6",color:"#1d2327"},children:[(0,l.jsxs)("p",{style:{marginTop:0},children:[(0,l.jsx)("strong",{children:"ALT Text"})," is the most important field because:"]}),(0,l.jsxs)("ul",{style:{marginLeft:"20px",marginBottom:"12px"},children:[(0,l.jsx)("li",{children:"Primary ranking factor for Google Image Search"}),(0,l.jsx)("li",{children:"Required for web accessibility (WCAG compliance)"}),(0,l.jsx)("li",{children:"Screen readers rely on it exclusively"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Title"})," matters for:"]}),(0,l.jsxs)("ul",{style:{marginLeft:"20px",marginBottom:"12px"},children:[(0,l.jsx)("li",{children:"Social media sharing (Open Graph)"}),(0,l.jsx)("li",{children:"Structured data (Schema.org)"}),(0,l.jsx)("li",{children:"Image filename SEO"})]}),(0,l.jsxs)("p",{style:{marginBottom:0},children:[(0,l.jsx)("strong",{children:"Caption"})," and ",(0,l.jsx)("strong",{children:"Keywords"})," provide supplementary value through content enrichment and internal organization."]})]})]})})]}),(0,l.jsx)("div",{style:{flex:"1 1 calc(40% - 10px)",minWidth:"350px"},children:(0,l.jsx)(U,{scenarios:K,qualityWeights:o,autoApproveThreshold:t.auto_approve_threshold||.85,calculateScore:function(e){for(var t=0,r=0,n=["alt","title","caption","keywords"];r<n.length;r++){var i=n[r];void 0!==e[i]&&(t+=e[i]*(o[i]||0))}return t}})})]})};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return oe(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(oe(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,oe(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,oe(u,"constructor",c),oe(c,"constructor",s),s.displayName="GeneratorFunction",oe(c,o,"GeneratorFunction"),oe(u),oe(u,o,"Generator"),oe(u,n,function(){return this}),oe(u,"toString",function(){return"[object Generator]"}),(ne=function(){return{w:i,m:p}})()}function oe(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}oe=function(e,t,r,n){function i(t,r){oe(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},oe(e,t,r,n)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach(function(t){le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function le(e,t,r){return(t=function(e){var t=function(e){if("object"!=re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function ce(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){se(i,n,o,a,l,"next",e)}function l(e){se(i,n,o,a,l,"throw",e)}a(void 0)})}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return fe(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(fe(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fe(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,fe(u,"constructor",c),fe(c,"constructor",s),s.displayName="GeneratorFunction",fe(c,o,"GeneratorFunction"),fe(u),fe(u,o,"Generator"),fe(u,n,function(){return this}),fe(u,"toString",function(){return"[object Generator]"}),(pe=function(){return{w:i,m:p}})()}function fe(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}fe=function(e,t,r,n){function i(t,r){fe(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},fe(e,t,r,n)}function ye(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function me(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ye(i,n,o,a,l,"next",e)}function l(e){ye(i,n,o,a,l,"throw",e)}a(void 0)})}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach(function(t){je(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function je(e,t,r){return(t=function(e){var t=function(e){if("object"!=ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const we=function(e){var t,r,o=e.context,i=(t=(0,n.useState)({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1],c=function(e){s(function(t){return ve(ve({},t),{},je({},e,!t[e]))})},d=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null==e)return(0,l.jsx)("span",{style:{color:"#999"},children:"null"});if("boolean"==typeof e)return(0,l.jsx)("span",{style:{color:"#0066cc"},children:e.toString()});if("number"==typeof e)return(0,l.jsx)("span",{style:{color:"#990000"},children:e});if("string"==typeof e)return(0,l.jsxs)("span",{style:{color:"#008000"},children:['"',e,'"']});if(Array.isArray(e)){if(0===e.length)return(0,l.jsx)("span",{style:{color:"#999"},children:"[]"});var n=a[t];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{onClick:function(){return c(t)},style:{cursor:"pointer",userSelect:"none"},children:[n?"‚ñ∂":"‚ñº"," [",e.length," items]"]}),!n&&(0,l.jsx)("div",{style:{marginLeft:"20px"},children:e.map(function(e,n){return(0,l.jsxs)("div",{children:[n,": ",d(e,"".concat(t,".").concat(n),r+1)]},n)})})]})}if("object"===ge(e)){var o=Object.keys(e);if(0===o.length)return(0,l.jsx)("span",{style:{color:"#999"},children:"{}"});var i=a[t];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{onClick:function(){return c(t)},style:{cursor:"pointer",userSelect:"none"},children:[i?"‚ñ∂":"‚ñº"," ","{","...","}"]}),!i&&(0,l.jsx)("div",{style:{marginLeft:"20px"},children:o.map(function(n){return(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{style:{color:"#881391"},children:['"',n,'"']}),": ",d(e[n],"".concat(t,".").concat(n),r+1)]},n)})})]})}return(0,l.jsx)("span",{children:String(e)})};return(0,l.jsx)("div",{style:{background:"#f6f7f7",border:"1px solid #dcdcde",borderRadius:"4px",padding:"15px",fontFamily:"Consolas, Monaco, monospace",fontSize:"13px",lineHeight:"1.6",maxHeight:"600px",overflow:"auto"},children:(0,l.jsxs)("div",{children:[o.global_settings&&(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2271b1"},children:"‚öôÔ∏è Global Settings:"}),(0,l.jsx)("div",{style:{marginLeft:"20px"},children:d(o.global_settings,"global_settings")})]}),o.context&&(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2271b1"},children:"üìã Context Data:"}),(0,l.jsx)("div",{style:{marginLeft:"20px"},children:d(o.context,"context")})]}),void 0!==o.context_score&&(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2271b1"},children:"üìä Context Score:"}),(0,l.jsx)("div",{style:{marginLeft:"20px"},children:(0,l.jsx)("span",{style:{color:"#990000"},children:o.context_score.toFixed(2)})})]}),o.final_prompt&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2271b1"},children:["üìÑ Final Prompt (",o.used_variant||"standard"," variant):"]}),(0,l.jsx)("pre",{style:{background:"#fff",border:"1px solid #dcdcde",borderRadius:"4px",padding:"12px",marginTop:"8px",marginLeft:"20px",overflow:"auto",whiteSpace:"pre-wrap",fontSize:"12px",maxHeight:"400px"},children:o.final_prompt})]})]})})};function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ke=function(e){var t,r,o,i,s,c,d=e.result,u=(s=(0,n.useState)(!1),c=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(s,c)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],f=u[1],y=(null===(t=window.aiMediaSEO)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.auto_approve_threshold)||.85,m=function(e){return"$".concat(e.toFixed(6))};return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{style:{background:"#f0f6fc",borderBottom:"1px solid #2271b1"},children:(0,l.jsx)("h4",{style:{margin:0},children:"‚úÖ Generated Metadata"})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr",gap:"10px"},children:[(0,l.jsx)("strong",{children:"Provider:"}),(0,l.jsx)("span",{children:d.provider||"N/A"}),(0,l.jsx)("strong",{children:"Model:"}),(0,l.jsx)("span",{children:d.model||"N/A"}),(0,l.jsx)("strong",{children:"Quality Score:"}),(0,l.jsx)("span",{style:{color:d.score?(i=d.score,i>=y?"#46b450":i>=.7?"#ffb900":"#dc3232"):"#999",fontWeight:"bold"},children:d.score?"".concat(Math.round(100*d.score),"%"):"N/A"}),(0,l.jsx)("strong",{children:"Status:"}),(0,l.jsx)("span",{children:d.status||"N/A"})]}),d.metadata&&(0,l.jsxs)("div",{style:{marginTop:"20px"},children:[(0,l.jsx)("h5",{children:"Generated Content:"}),d.metadata.alt&&(0,l.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,l.jsx)("strong",{children:"ALT Text:"}),(0,l.jsx)("div",{style:{padding:"10px",background:"#f6f7f7",borderLeft:"3px solid #2271b1",marginTop:"5px"},children:d.metadata.alt})]}),d.metadata.caption&&(0,l.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,l.jsx)("strong",{children:"Caption:"}),(0,l.jsx)("div",{style:{padding:"10px",background:"#f6f7f7",borderLeft:"3px solid #2271b1",marginTop:"5px"},children:d.metadata.caption})]}),d.metadata.title&&(0,l.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,l.jsx)("strong",{children:"Title:"}),(0,l.jsx)("div",{style:{padding:"10px",background:"#f6f7f7",borderLeft:"3px solid #2271b1",marginTop:"5px"},children:d.metadata.title})]}),d.metadata.keywords&&d.metadata.keywords.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Keywords:"}),(0,l.jsx)("div",{style:{marginTop:"5px"},children:d.metadata.keywords.map(function(e,t){return(0,l.jsx)("span",{style:{display:"inline-block",padding:"4px 8px",margin:"2px",background:"#f0f6fc",border:"1px solid #2271b1",borderRadius:"3px",fontSize:"12px"},children:e},t)})})]})]})]})]}),d.costs&&(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{style:{background:"#f0f6fc",borderBottom:"1px solid #2271b1"},children:(0,l.jsx)("h4",{style:{margin:0},children:"üí∞ Cost Analysis"})}),(0,l.jsx)(a.CardBody,{children:(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"200px 1fr",gap:"10px"},children:[(0,l.jsx)("strong",{children:"Input Tokens:"}),(0,l.jsxs)("span",{children:[(null===(r=d.costs.input_tokens)||void 0===r?void 0:r.toLocaleString())||"N/A",d.costs.estimated_input&&" (estimated)"]}),(0,l.jsx)("strong",{children:"Output Tokens:"}),(0,l.jsx)("span",{children:(null===(o=d.costs.output_tokens)||void 0===o?void 0:o.toLocaleString())||"N/A"}),(0,l.jsx)("strong",{children:"Input Cost:"}),(0,l.jsx)("span",{children:d.costs.input_cost?m(d.costs.input_cost):"N/A"}),(0,l.jsx)("strong",{children:"Output Cost:"}),(0,l.jsx)("span",{children:d.costs.output_cost?m(d.costs.output_cost):"N/A"}),(0,l.jsx)("strong",{style:{fontSize:"16px"},children:"Total Cost:"}),(0,l.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#2271b1"},children:d.costs.total_cost?m(d.costs.total_cost):"N/A"})]})})]}),(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{style:{background:"#f6f7f7"},children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)("h4",{style:{margin:0},children:"üìä Raw Response"}),(0,l.jsxs)("button",{onClick:function(){return f(!p)},style:{padding:"4px 12px",border:"1px solid #2271b1",background:"white",borderRadius:"3px",cursor:"pointer"},children:[p?"Hide":"Show"," JSON"]})]})}),p&&(0,l.jsx)(a.CardBody,{children:(0,l.jsx)("pre",{style:{background:"#f6f7f7",padding:"15px",borderRadius:"4px",overflow:"auto",maxHeight:"400px",fontSize:"12px",fontFamily:"Consolas, Monaco, monospace"},children:JSON.stringify(d,null,2)})})]})]})};function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ae=function(e){var t=e.image,r=e.onClick,n=e.isSelected,o=void 0!==n&&n;return(0,l.jsxs)("div",{className:"image-thumbnail ".concat(o?"selected":""),onClick:function(){return r(t)},style:{position:"relative",aspectRatio:"1",borderRadius:"4px",overflow:"hidden",cursor:"pointer",border:o?"3px solid #00a32a":"2px solid #dcdcde",boxShadow:o?"0 0 0 2px rgba(0, 163, 42, 0.2)":"none",transition:"all 0.2s ease",backgroundColor:"#f6f7f7"},onMouseEnter:function(e){o||(e.currentTarget.style.borderColor="#007cba",e.currentTarget.style.transform="scale(1.05)")},onMouseLeave:function(e){o||(e.currentTarget.style.borderColor="#dcdcde",e.currentTarget.style.transform="scale(1)")},children:[(0,l.jsx)("img",{src:t.url,alt:t.title,style:{width:"100%",height:"100%",objectFit:"cover"}}),o&&(0,l.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#00a32a",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:"‚úì"}),(0,l.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"4px 6px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",fontSize:"11px",fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.filename})]})},Te=function(e){var t=e.image,r=e.onClick,n=e.isSelected,o=void 0!==n&&n;return(0,l.jsxs)("div",{className:"search-result-item ".concat(o?"selected":""),onClick:function(){return r(t)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",borderRadius:"4px",cursor:"pointer",border:o?"2px solid #00a32a":"1px solid #dcdcde",backgroundColor:o?"#f0f6fc":"#fff",transition:"all 0.15s ease",marginBottom:"6px"},onMouseEnter:function(e){o||(e.currentTarget.style.backgroundColor="#f6f7f7",e.currentTarget.style.borderColor="#007cba")},onMouseLeave:function(e){o||(e.currentTarget.style.backgroundColor="#fff",e.currentTarget.style.borderColor="#dcdcde")},children:[(0,l.jsxs)("div",{style:{width:"50px",height:"50px",flexShrink:0,borderRadius:"3px",overflow:"hidden",backgroundColor:"#f0f0f1",position:"relative"},children:[(0,l.jsx)("img",{src:t.url,alt:t.title,style:{width:"100%",height:"100%",objectFit:"cover"}}),o&&(0,l.jsx)("div",{style:{position:"absolute",top:"2px",right:"2px",width:"18px",height:"18px",borderRadius:"50%",backgroundColor:"#00a32a",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"11px",fontWeight:"bold",boxShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"‚úì"})]}),(0,l.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,l.jsx)("div",{style:{fontWeight:500,fontSize:"13px",color:"#1e1e1e",marginBottom:"3px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#646970",display:"flex",gap:"8px",alignItems:"center"},children:[(0,l.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{style:{color:"#787c82"},children:"ID:"}),(0,l.jsx)("strong",{children:t.id})]}),(0,l.jsx)("span",{style:{color:"#dcdcde"},children:"‚Ä¢"}),(0,l.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.filename})]})]}),(0,l.jsx)("div",{style:{flexShrink:0,color:"#646970",fontSize:"16px",opacity:o?1:0,transition:"opacity 0.15s ease"},children:"‚Üí"})]})};function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ie(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return _e(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(_e(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_e(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,_e(u,"constructor",c),_e(c,"constructor",s),s.displayName="GeneratorFunction",_e(c,o,"GeneratorFunction"),_e(u),_e(u,o,"Generator"),_e(u,n,function(){return this}),_e(u,"toString",function(){return"[object Generator]"}),(Ie=function(){return{w:i,m:p}})()}function _e(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_e=function(e,t,r,n){function i(t,r){_e(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},_e(e,t,r,n)}function ze(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach(function(t){Me(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Me(e,t,r){return(t=function(e){var t=function(e){if("object"!=Pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Le(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Re(i,n,o,a,l,"next",e)}function l(e){Re(i,n,o,a,l,"throw",e)}a(void 0)})}}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const De=function(e){var t=e.onSelect,r=e.selectedImage,o=void 0===r?null:r,s=e.preselectedImageId,c=void 0===s?null:s,d=e.autoLoadPreselected,u=void 0!==d&&d,p=We((0,n.useState)(""),2),f=p[0],y=p[1],m=We((0,n.useState)([]),2),x=m[0],h=m[1],g=We((0,n.useState)([]),2),b=g[0],v=g[1],j=We((0,n.useState)(0),2),S=j[0],w=j[1],O=We((0,n.useState)(!0),2),k=O[0],C=O[1],A=We((0,n.useState)({search:!1,quick:!1,loadMore:!1}),2),T=A[0],P=A[1],I=We((0,n.useState)(null),2),_=I[0],z=I[1],B=function(e){var t,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=(t=(0,n.useState)(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1];return(0,n.useEffect)(function(){var t=setTimeout(function(){l(e)},o);return function(){clearTimeout(t)}},[e,o]),a}(f,300);(0,n.useEffect)(function(){E()},[]),(0,n.useEffect)(function(){B.length>=2?M(B):h([])},[B]),(0,n.useEffect)(function(){u&&c&&R({id:c})},[c,u]);var E=function(){var e=Le(Ie().m(function e(){var t,r,n,o,a,l,s=arguments;return Ie().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=(t=s.length>0&&void 0!==s[0]&&s[0])?"loadMore":"quick",P(function(e){return Ee(Ee({},e),{},Me({},r,!0))}),z(null),n=t?S:0,e.p=1,e.n=2,i()({path:"/ai-media/v1/playground/images?limit=".concat(12,"&offset=").concat(n),method:"GET"});case 2:(o=e.v).success&&(a=o.images||[],v(t?function(e){return[].concat(ze(e),ze(a))}:a),w(n+a.length),C(12===a.length)),e.n=4;break;case 3:e.p=3,l=e.v,z("Failed to load recent images: "+l.message);case 4:return e.p=4,P(function(e){return Ee(Ee({},e),{},Me({},r,!1))}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Le(Ie().m(function e(t){var r,n;return Ie().w(function(e){for(;;)switch(e.p=e.n){case 0:return P(function(e){return Ee(Ee({},e),{},{search:!0})}),z(null),e.p=1,e.n=2,i()({path:"/ai-media/v1/playground/search?q=".concat(encodeURIComponent(t),"&limit=10"),method:"GET"});case 2:(r=e.v).success&&h(r.images||[]),e.n=4;break;case 3:e.p=3,n=e.v,z("Search failed: "+n.message),h([]);case 4:return e.p=4,P(function(e){return Ee(Ee({},e),{},{search:!1})}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),R=function(e){t(e),y(""),h([])};return(0,l.jsxs)("div",{className:"image-selector",style:{display:"flex",flexDirection:"column",gap:"24px"},children:[c&&(0,l.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #0783be",borderRadius:"4px"},children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("div",{style:{fontSize:"12px",color:"#0783be",fontWeight:600,marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Quick Access"}),(0,l.jsx)("div",{style:{fontSize:"13px",color:"#1e1e1e"},children:"Use the image you selected in Media Library"})]}),(0,l.jsxs)(a.Button,{variant:"primary",onClick:function(){return R({id:c})},style:{whiteSpace:"nowrap"},children:["üìå Use Selected Image (ID: ",c,")"]})]})}),(0,l.jsxs)("div",{className:"quick-picks-section",children:[(0,l.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1e1e1e"},children:"Recent Uploads"}),T.quick?(0,l.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,l.jsx)(a.Spinner,{})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"thumbnail-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"10px"},children:b.map(function(e){return(0,l.jsx)(Ae,{image:e,onClick:R,isSelected:(null==o?void 0:o.id)===e.id},e.id)})}),k&&b.length>0&&(0,l.jsxs)("div",{style:{marginTop:"16px",textAlign:"center"},children:[(0,l.jsx)(a.Button,{variant:"secondary",onClick:function(){E(!0)},disabled:T.loadMore,isBusy:T.loadMore,children:T.loadMore?"Loading...":"Load More"}),(0,l.jsxs)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#646970"},children:["Showing ",b.length," images"]})]})]})]}),(0,l.jsxs)("div",{className:"search-section",children:[(0,l.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1e1e1e"},children:"Search Images"}),(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(a.TextControl,{placeholder:"Search by filename, title, or ID...",value:f,onChange:y,help:"Start typing to search (minimum 2 characters)"}),T.search&&(0,l.jsx)("div",{style:{position:"absolute",right:"8px",top:"8px"},children:(0,l.jsx)(a.Spinner,{style:{margin:0}})})]}),x.length>0&&(0,l.jsx)("div",{className:"search-results",style:{marginTop:"12px",maxHeight:"300px",overflowY:"auto",border:"1px solid #dcdcde",borderRadius:"4px",padding:"8px",backgroundColor:"#f6f7f7"},children:x.map(function(e){return(0,l.jsx)(Te,{image:e,onClick:R,isSelected:(null==o?void 0:o.id)===e.id},e.id)})}),B.length>=2&&!T.search&&0===x.length&&(0,l.jsxs)("div",{style:{marginTop:"12px",padding:"12px",textAlign:"center",color:"#646970",fontSize:"13px",backgroundColor:"#f6f7f7",borderRadius:"4px"},children:['No images found for "',B,'"']})]}),_&&(0,l.jsx)("div",{style:{padding:"12px",backgroundColor:"#fcf0f1",border:"1px solid #dc3232",borderRadius:"4px",color:"#dc3232",fontSize:"13px"},children:_})]})};function Ne(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return He(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(He(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,He(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,He(u,"constructor",c),He(c,"constructor",s),s.displayName="GeneratorFunction",He(c,o,"GeneratorFunction"),He(u),He(u,o,"Generator"),He(u,n,function(){return this}),He(u,"toString",function(){return"[object Generator]"}),(Ne=function(){return{w:i,m:p}})()}function He(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}He=function(e,t,r,n){function i(t,r){He(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},He(e,t,r,n)}function qe(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Ue(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){qe(i,n,o,a,l,"next",e)}function l(e){qe(i,n,o,a,l,"throw",e)}a(void 0)})}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ke=function(e){var t,r,o=e.preselectedImageId,s=void 0===o?null:o,c=function(){var e=de((0,n.useState)(null),2),t=e[0],r=e[1],o=de((0,n.useState)(null),2),a=o[0],l=o[1],s=de((0,n.useState)(null),2),c=s[0],d=s[1],u=de((0,n.useState)({context:!1,analysis:!1}),2),p=u[0],f=u[1],y=de((0,n.useState)(null),2),m=y[0],x=y[1],h=(0,n.useCallback)(function(){var e=ce(ne().m(function e(t,r){var n,o,a,s,c=arguments;return ne().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:null,f(function(e){return ae(ae({},e),{},{context:!0})}),x(null),l(null),d(null),e.p=1,o={attachment_id:t},r&&(o.language=r),n&&(o.prompt_variant=n),e.n=2,i()({path:"/ai-media/v1/playground/context",method:"POST",data:o});case 2:a=e.v,l(a),e.n=4;break;case 3:e.p=3,s=e.v,x("Failed to load context: "+s.message);case 4:return e.p=4,f(function(e){return ae(ae({},e),{},{context:!1})}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t,r){return e.apply(this,arguments)}}(),[]),g=(0,n.useCallback)(function(){var e=ce(ne().m(function e(t){var r,n;return ne().w(function(e){for(;;)switch(e.p=e.n){case 0:return f(function(e){return ae(ae({},e),{},{analysis:!0})}),x(null),e.p=1,e.n=2,i()({path:"/ai-media/v1/analyze",method:"POST",data:{attachment_ids:[t]}});case 2:if(!((r=e.v).success&&r.results&&r.results[0])){e.n=3;break}return d(r.results[0]),e.a(2,r.results[0]);case 3:if(!r.errors||!r.errors[0]){e.n=4;break}throw new Error(r.errors[0].errors[0]||"Analysis failed");case 4:throw new Error("No results returned from analysis");case 5:e.n=7;break;case 6:throw e.p=6,n=e.v,x("Failed to analyze image: "+n.message),n;case 7:return e.p=7,f(function(e){return ae(ae({},e),{},{analysis:!1})}),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),[]);return{selectedImage:t,setSelectedImage:r,context:a,analysisResult:c,loading:p,error:m,loadContext:h,analyzeImage:g}}(),d=c.selectedImage,u=c.setSelectedImage,p=c.context,f=c.analysisResult,y=c.loading,m=c.error,x=c.loadContext,h=c.analyzeImage,g=function(){var e=xe((0,n.useState)(0),2),t=e[0],r=e[1],o=xe((0,n.useState)(!1),2),a=o[0],l=o[1],s=xe((0,n.useState)(!1),2),c=s[0],d=s[1],u=xe((0,n.useState)(null),2),p=u[0],f=u[1],y=xe((0,n.useState)(null),2),m=y[0],x=y[1],h=function(){var e=me(pe().m(function e(){var t;return pe().w(function(e){for(;;)switch(e.p=e.n){case 0:return l(!0),e.p=1,e.n=2,i()({path:"/ai-media/v1/costs/total",method:"GET"});case 2:t=e.v,r(t.total_cost||0),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,l(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=me(pe().m(function e(){var t,r,n,o;return pe().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Promise.all([i()({path:"/ai-media/v1/costs/stats",method:"GET"}),i()({path:"/ai-media/v1/costs/breakdown",method:"GET"})]);case 1:t=e.v,r=xe(t,2),n=r[0],o=r[1],f(n),x(o),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)(function(){h()},[]),{totalCost:t,loadingCosts:a,showCostModal:c,setShowCostModal:d,costStats:p,costBreakdown:m,loadTotalCost:h,loadCostStats:g,addCost:function(e){r(function(t){return t+e})}}}(),b=g.addCost,v=(t=(0,n.useState)("standard"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=v[0],S=v[1],w=function(){var e=Ue(Ne().m(function e(){return Ne().w(function(e){for(;;)switch(e.n){case 0:if(d){e.n=1;break}return e.a(2);case 1:return e.n=2,x(d.id,d.language,j);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Ue(Ne().m(function e(){var t;return Ne().w(function(e){for(;;)switch(e.p=e.n){case 0:if(d){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,h(d.id);case 2:(t=e.v).costs&&t.costs.total_cost&&b(t.costs.total_cost),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"ai-media-playground",children:(0,l.jsxs)(a.Card,{children:[(0,l.jsx)(a.CardHeader,{children:(0,l.jsx)("h3",{style:{margin:0},children:"AI Context & Analysis Playground"})}),(0,l.jsxs)(a.CardBody,{children:[(0,l.jsx)("p",{style:{marginBottom:"20px",color:"#646970"},children:"Test and debug the AI analysis pipeline. Select an image to inspect the context data sent to AI and analyze it to see the full response."}),(0,l.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,l.jsx)("h4",{style:{marginBottom:"16px"},children:"Select Image"}),(0,l.jsx)(De,{onSelect:u,selectedImage:d,preselectedImageId:s,autoLoadPreselected:!1}),d&&(0,l.jsxs)("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f6f7f7",border:"1px solid #dcdcde",borderRadius:"4px"},children:[(0,l.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#1e1e1e",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Selected Image"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[(0,l.jsx)("img",{src:d.url,alt:d.title,style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"4px",border:"2px solid #00a32a",flexShrink:0}}),(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsxs)("p",{style:{margin:"0 0 6px 0"},children:[(0,l.jsx)("strong",{style:{color:"#1e1e1e"},children:"Title:"})," ",(0,l.jsx)("span",{style:{color:"#646970"},children:d.title})]}),(0,l.jsxs)("p",{style:{margin:"0 0 6px 0"},children:[(0,l.jsx)("strong",{style:{color:"#1e1e1e"},children:"ID:"})," ",(0,l.jsx)("span",{style:{color:"#646970"},children:d.id})]}),(0,l.jsxs)("p",{style:{margin:"0 0 6px 0"},children:[(0,l.jsx)("strong",{style:{color:"#1e1e1e"},children:"File:"})," ",(0,l.jsx)("span",{style:{color:"#646970"},children:d.filename})]}),d.language&&(0,l.jsxs)("p",{style:{margin:"0 0 6px 0"},children:[(0,l.jsx)("strong",{style:{color:"#1e1e1e"},children:"Language:"})," ",(0,l.jsx)("span",{style:{color:"#646970"},children:d.language})]}),d.date&&(0,l.jsxs)("p",{style:{margin:"0"},children:[(0,l.jsx)("strong",{style:{color:"#1e1e1e"},children:"Uploaded:"})," ",(0,l.jsx)("span",{style:{color:"#646970"},children:new Date(d.date).toLocaleDateString()})]})]})]})]}),(0,l.jsxs)("div",{style:{marginTop:"20px"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[(0,l.jsx)("label",{style:{fontWeight:500,fontSize:"13px",color:"#1e1e1e"},children:"Prompt Variant"}),(0,l.jsx)("span",{style:{padding:"2px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:600,backgroundColor:"advanced"===j?"#00a32a":"minimal"===j?"#d63638":"#2271b1",color:"white",textTransform:"uppercase",letterSpacing:"0.5px"},children:"advanced"===j?"üöÄ Advanced":"minimal"===j?"‚ö° Minimal":"‚≠ê Standard"})]}),(0,l.jsx)(a.SelectControl,{help:"Choose which prompt template to test",value:j,options:[{label:"‚ö° Minimal (Fast & Cheap)",value:"minimal"},{label:"‚≠ê Standard (Recommended)",value:"standard"},{label:"üöÄ Advanced (Maximum Context)",value:"advanced"}],onChange:S})]}),(0,l.jsx)(a.Button,{variant:"secondary",onClick:w,disabled:!d||y.context,isBusy:y.context,style:{marginTop:"15px"},children:y.context?"Loading...":"Load Context"})]}),p&&(0,l.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,l.jsx)("h4",{children:"Context Preview"}),(0,l.jsx)("p",{style:{fontSize:"12px",color:"#646970",marginBottom:"10px"},children:"This is the context data that will be sent to the AI provider for analysis."}),(0,l.jsx)(we,{context:p}),(0,l.jsx)(a.Button,{variant:"primary",onClick:O,disabled:y.analysis,isBusy:y.analysis,style:{marginTop:"15px"},children:y.analysis?"Analyzing...":"Analyze with AI"})]}),f&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{children:"AI Analysis Results"}),(0,l.jsx)(ke,{result:f})]}),m&&(0,l.jsx)("div",{style:{padding:"12px",background:"#fcf0f1",border:"1px solid #dc3232",borderRadius:"4px",color:"#dc3232",marginTop:"15px"},children:m})]})]})})},Qe=function(e){var t=e.tabs,r=e.activeTab,n=e.onTabChange,o=e.onSave,i=e.saving,s=void 0!==i&&i,c=e.disabled,d=void 0!==c&&c,u=e.disabledTitle,p=void 0===u?"":u;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{children:"\n\t\t\t\t\t.ai-media-settings-tab {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\tborder-bottom: 2px solid transparent;\n\t\t\t\t\t\tpadding: 12px 20px;\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\t\tcolor: #646970;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\ttransition: all 0.2s ease;\n\t\t\t\t\t}\n\t\t\t\t\t.ai-media-settings-tab:hover {\n\t\t\t\t\t\tcolor: #2271b1;\n\t\t\t\t\t\tbackground: #f0f6fc;\n\t\t\t\t\t}\n\t\t\t\t\t.ai-media-settings-tab.active {\n\t\t\t\t\t\tcolor: #2271b1;\n\t\t\t\t\t\tborder-bottom-color: #2271b1;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\t\t\t\t"}),(0,l.jsxs)("div",{className:"ai-media-settings-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #dcdcde"},children:[(0,l.jsx)("div",{className:"ai-media-settings-tabs",style:{display:"flex"},children:t.map(function(e){return(0,l.jsx)("button",{className:"ai-media-settings-tab ".concat(r===e.id?"active":""),onClick:function(){return n(e.id)},children:e.label},e.id)})}),(0,l.jsx)("div",{style:{paddingRight:"20px"},children:(0,l.jsx)(a.Button,{variant:"primary",onClick:o,isBusy:s,disabled:d||s,title:p,children:s?"Saving...":"Save Settings"})})]})]})};var Ve=[{id:"providers",label:"Providers"},{id:"prompt",label:"Prompt"},{id:"context",label:"Context"},{id:"configuration",label:"Configuration"},{id:"quality",label:"Quality Scoring"},{id:"playground",label:"Playground"}];function Xe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof l?n:l,c=Object.create(s.prototype);return Ye(c,"_invoke",function(r,n,o){var i,l,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,l=0,s=e,p.n=r,a}};function f(r,n){for(l=r,s=n,t=0;!u&&c&&!o&&t<d.length;t++){var o,i=d[t],f=p.p,y=i[2];r>3?(o=y===n)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=r<2&&f<i[1])?(l=0,p.v=n,p.n=i[1]):f<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,l=0))}if(o||r>1)return a;throw u=!0,n}return function(o,d,y){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,y),l=d,s=y;(t=l<2?e:s)||!u;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(u=p.n<0)?s:r.call(n,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(Ye(t={},n,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ye(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,Ye(u,"constructor",c),Ye(c,"constructor",s),s.displayName="GeneratorFunction",Ye(c,o,"GeneratorFunction"),Ye(u),Ye(u,o,"Generator"),Ye(u,n,function(){return this}),Ye(u,"toString",function(){return"[object Generator]"}),(Xe=function(){return{w:i,m:p}})()}function Ye(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ye=function(e,t,r,n){function i(t,r){Ye(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ye(e,t,r,n)}function Je(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tt=function(){var e,t,r,o=Ze((0,n.useState)((null===(e=window.aiMediaSEO)||void 0===e?void 0:e.settings)||{}),2),c=o[0],d=o[1],u=Ze((0,n.useState)((null===(t=window.aiMediaSEO)||void 0===t?void 0:t.providers)||{}),2),p=u[0],f=u[1],y=Ze((0,n.useState)((null===(r=window.aiMediaSEO)||void 0===r?void 0:r.quality_weights)||{alt:.4,title:.3,caption:.2,keywords:.1}),2),x=y[0],h=y[1],g=Ze((0,n.useState)(!1),2),b=g[0],v=g[1],j=Ze((0,n.useState)(null),2),S=j[0],w=j[1],O=Ze((0,n.useState)("providers"),2),k=O[0],C=O[1],A=Ze((0,n.useState)(!1),2),T=A[0],P=A[1],_=Ze((0,n.useState)(""),2),z=_[0],B=_[1],E=(c.site_context||"").length>1500,R=function(){var e,t=(e=Xe().m(function e(){var t,r;return Xe().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,v(!0),w(null),e.n=1,i()({path:"/ai-media/v1/settings",method:"POST",data:{settings:c,providers:p,quality_weights:x}});case 1:t=e.v,window.aiMediaSEO&&t.updated&&(t.updated.settings&&(window.aiMediaSEO.settings=t.updated.settings),t.updated.providers&&(window.aiMediaSEO.providers=t.updated.providers),t.updated.quality_weights&&(window.aiMediaSEO.quality_weights=t.updated.quality_weights)),w({type:"success",message:t.message||"Settings saved successfully!"}),e.n=3;break;case 2:e.p=2,r=e.v,w({type:"error",message:"Error saving settings: "+r.message});case 3:return e.p=3,v(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Je(i,n,o,a,l,"next",e)}function l(e){Je(i,n,o,a,l,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:"ai-media-settings",children:[(0,l.jsx)("style",{children:"\n\t\t\t\t\t.ai-media-settings .components-form-toggle.is-checked .components-form-toggle__thumb {\n\t\t\t\t\t\tleft: 6px !important;\n\t\t\t\t\t}\n\t\t\t\t"}),(0,l.jsx)(Qe,{tabs:Ve,activeTab:k,onTabChange:C,onSave:R,saving:b,disabled:E,disabledTitle:E?"Site Context exceeds 1500 character limit":""}),S&&(0,l.jsx)(s,{notice:S,onDismiss:function(){return w(null)}}),T&&(0,l.jsxs)(a.Modal,{title:"API Key Required",onRequestClose:function(){return P(!1)},children:[(0,l.jsx)("p",{children:z}),(0,l.jsx)(a.Button,{variant:"primary",onClick:function(){return P(!1)},children:"OK"})]}),(0,l.jsxs)("div",{className:"ai-media-settings-content",children:["providers"===k&&(0,l.jsx)(m,{providers:p,setProviders:f,setShowModal:P,setModalMessage:B}),"prompt"===k&&(0,l.jsx)(I,{settings:c,setSettings:d}),"context"===k&&(0,l.jsx)(G,{settings:c,setSettings:d}),"configuration"===k&&(0,l.jsx)(M,{settings:c,setSettings:d}),"quality"===k&&(0,l.jsx)(te,{settings:c,setSettings:d,qualityWeights:x,setQualityWeights:h}),"playground"===k&&(0,l.jsx)(Ke,{preselectedImageId:null})]})]})};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("ai-media-settings-root");e&&(0,n.render)((0,l.jsx)(tt,{}),e)})})();
//# sourceMappingURL=settings.js.map